;document.addEventListener('DOMContentLoaded',()=>{const chatWidget=document.createElement('div');chatWidget.id='chat-widget';document.body.classList.add('chat-button-hide-mobile');document.body.appendChild(chatWidget);const chatServiceHost=document.body.getAttribute('data-chat-endpoint');const callbackFormUrlId=document.body.getAttribute('data-chat-form-id');let locale='en';if(typeof window.Tesla!=='undefined'&&typeof window.Tesla.locale!=='undefined'){locale=window.Tesla.locale.toLowerCase()};if(locale==='en'){locale='en_us'};const config={url:chatServiceHost,typeOfPage:'Sales',locale,logo:'/modules/custom/tesla_chat/images/logo.svg',callbackFormUrlId:`${callbackFormUrlId}|${window.Tesla.locale.toLowerCase()};`,callbackFormEnabled:!0,};const teslaChat=new window.ChatWidget(null,(err)=>{console.warn('Chat init error',err)},config,'chat-widget')});;
!function(){var e={757:function(e,t,n){e.exports=n(666)},302:function(e,t,n){var o;!function(r){"use strict";var i,s=1e6,a="[big.js] ",c=a+"Invalid ",l=c+"decimal places",u=a+"Division by zero",d={},f=void 0,h=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function p(e,t,n,o){var r=e.c;if(n===f&&(n=i.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error("[big.js] Invalid rounding mode");if(t<1)o=3===n&&(o||!!r[0])||0===t&&(1===n&&r[0]>=5||2===n&&(r[0]>5||5===r[0]&&(o||r[1]!==f))),r.length=1,o?(e.e=e.e-t+1,r[0]=1):r[0]=e.e=0;else if(t<r.length){if(o=1===n&&r[t]>=5||2===n&&(r[t]>5||5===r[t]&&(o||r[t+1]!==f||1&r[t-1]))||3===n&&(o||!!r[0]),r.length=t--,o)for(;++r[t]>9;)r[t]=0,t--||(++e.e,r.unshift(1));for(t=r.length;!r[--t];)r.pop()}return e}function v(e,t,n){var o=e.e,r=e.c.join(""),i=r.length;if(t)r=r.charAt(0)+(i>1?"."+r.slice(1):"")+(o<0?"e":"e+")+o;else if(o<0){for(;++o;)r="0"+r;r="0."+r}else if(o>0)if(++o>i)for(o-=i;o--;)r+="0";else o<i&&(r=r.slice(0,o)+"."+r.slice(o));else i>1&&(r=r.charAt(0)+"."+r.slice(1));return e.s<0&&n?"-"+r:r}d.abs=function(){var e=new this.constructor(this);return e.s=1,e},d.cmp=function(e){var t,n=this,o=n.c,r=(e=new n.constructor(e)).c,i=n.s,s=e.s,a=n.e,c=e.e;if(!o[0]||!r[0])return o[0]?i:r[0]?-s:0;if(i!=s)return i;if(t=i<0,a!=c)return a>c^t?1:-1;for(s=(a=o.length)<(c=r.length)?a:c,i=-1;++i<s;)if(o[i]!=r[i])return o[i]>r[i]^t?1:-1;return a==c?0:a>c^t?1:-1},d.div=function(e){var t=this,n=t.constructor,o=t.c,r=(e=new n(e)).c,i=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>s)throw Error(l);if(!r[0])throw Error(u);if(!o[0])return e.s=i,e.c=[e.e=0],e;var c,d,h,v,w,g=r.slice(),m=c=r.length,y=o.length,b=o.slice(0,c),S=b.length,x=e,E=x.c=[],L=0,k=a+(x.e=t.e-e.e)+1;for(x.s=i,i=k<0?0:k,g.unshift(0);S++<c;)b.push(0);do{for(h=0;h<10;h++){if(c!=(S=b.length))v=c>S?1:-1;else for(w=-1,v=0;++w<c;)if(r[w]!=b[w]){v=r[w]>b[w]?1:-1;break}if(!(v<0))break;for(d=S==c?r:g;S;){if(b[--S]<d[S]){for(w=S;w&&!b[--w];)b[w]=9;--b[w],b[S]+=10}b[S]-=d[S]}for(;!b[0];)b.shift()}E[L++]=v?h:++h,b[0]&&v?b[S]=o[m]||0:b=[o[m]]}while((m++<y||b[0]!==f)&&i--);return E[0]||1==L||(E.shift(),x.e--,k--),L>k&&p(x,k,n.RM,b[0]!==f),x},d.eq=function(e){return 0===this.cmp(e)},d.gt=function(e){return this.cmp(e)>0},d.gte=function(e){return this.cmp(e)>-1},d.lt=function(e){return this.cmp(e)<0},d.lte=function(e){return this.cmp(e)<1},d.minus=d.sub=function(e){var t,n,o,r,i=this,s=i.constructor,a=i.s,c=(e=new s(e)).s;if(a!=c)return e.s=-c,i.plus(e);var l=i.c.slice(),u=i.e,d=e.c,f=e.e;if(!l[0]||!d[0])return d[0]?e.s=-c:l[0]?e=new s(i):e.s=1,e;if(a=u-f){for((r=a<0)?(a=-a,o=l):(f=u,o=d),o.reverse(),c=a;c--;)o.push(0);o.reverse()}else for(n=((r=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){r=l[c]<d[c];break}if(r&&(o=l,l=d,d=o,e.s=-e.s),(c=(n=d.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>a;){if(l[--n]<d[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=d[n]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--f;return l[0]||(e.s=1,l=[f=0]),e.c=l,e.e=f,e},d.mod=function(e){var t,n=this,o=n.constructor,r=n.s,i=(e=new o(e)).s;if(!e.c[0])throw Error(u);return n.s=e.s=1,t=1==e.cmp(n),n.s=r,e.s=i,t?new o(n):(r=o.DP,i=o.RM,o.DP=o.RM=0,n=n.div(e),o.DP=r,o.RM=i,this.minus(n.times(e)))},d.plus=d.add=function(e){var t,n,o,r=this,i=r.constructor;if(e=new i(e),r.s!=e.s)return e.s=-e.s,r.minus(e);var s=r.e,a=r.c,c=e.e,l=e.c;if(!a[0]||!l[0])return l[0]||(a[0]?e=new i(r):e.s=r.s),e;if(a=a.slice(),t=s-c){for(t>0?(c=s,o=l):(t=-t,o=a),o.reverse();t--;)o.push(0);o.reverse()}for(a.length-l.length<0&&(o=l,l=a,a=o),t=l.length,n=0;t;a[t]%=10)n=(a[--t]=a[t]+l[t]+n)/10|0;for(n&&(a.unshift(n),++c),t=a.length;0===a[--t];)a.pop();return e.c=a,e.e=c,e},d.pow=function(e){var t=this,n=new t.constructor("1"),o=n,r=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(c+"exponent");for(r&&(e=-e);1&e&&(o=o.times(t)),e>>=1;)t=t.times(t);return r?n.div(o):o},d.prec=function(e,t){if(e!==~~e||e<1||e>s)throw Error(c+"precision");return p(new this.constructor(this),e,t)},d.round=function(e,t){if(e===f)e=0;else if(e!==~~e||e<-s||e>s)throw Error(l);return p(new this.constructor(this),e+this.e+1,t)},d.sqrt=function(){var e,t,n,o=this,r=o.constructor,i=o.s,s=o.e,c=new r("0.5");if(!o.c[0])return new r(o);if(i<0)throw Error(a+"No square root");0===(i=Math.sqrt(o+""))||i===1/0?((t=o.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new r(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):e=new r(i+""),s=e.e+(r.DP+=4);do{n=e,e=c.times(n.plus(o.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return p(e,(r.DP-=4)+e.e+1,r.RM)},d.times=d.mul=function(e){var t,n=this,o=n.constructor,r=n.c,i=(e=new o(e)).c,s=r.length,a=i.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!r[0]||!i[0])return e.c=[e.e=0],e;for(e.e=c+l,s<a&&(t=r,r=i,i=t,l=s,s=a,a=l),t=new Array(l=s+a);l--;)t[l]=0;for(c=a;c--;){for(a=0,l=s+c;l>c;)a=t[l]+i[c]*r[l-c-1]+a,t[l--]=a%10,a=a/10|0;t[l]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},d.toExponential=function(e,t){var n=this,o=n.c[0];if(e!==f){if(e!==~~e||e<0||e>s)throw Error(l);for(n=p(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return v(n,!0,!!o)},d.toFixed=function(e,t){var n=this,o=n.c[0];if(e!==f){if(e!==~~e||e<0||e>s)throw Error(l);for(e=e+(n=p(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return v(n,!1,!!o)},d.toJSON=d.toString=function(){var e=this,t=e.constructor;return v(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},d.toNumber=function(){var e=Number(v(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(a+"Imprecise conversion");return e},d.toPrecision=function(e,t){var n=this,o=n.constructor,r=n.c[0];if(e!==f){if(e!==~~e||e<1||e>s)throw Error(c+"precision");for(n=p(new o(n),e,t);n.c.length<e;)n.c.push(0)}return v(n,e<=n.e||n.e<=o.NE||n.e>=o.PE,!!r)},d.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(a+"valueOf disallowed");return v(e,e.e<=t.NE||e.e>=t.PE,!0)},(i=function e(){function t(n){var o=this;if(!(o instanceof t))return n===f?e():new t(n);if(n instanceof t)o.s=n.s,o.e=n.e,o.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict)throw TypeError(c+"number");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,o,r;if(!h.test(t))throw Error(c+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(n<0&&(n=o),n+=+t.slice(o+1),t=t.substring(0,o)):n<0&&(n=t.length),r=t.length,o=0;o<r&&"0"==t.charAt(o);)++o;if(o==r)e.c=[e.e=0];else{for(;r>0&&"0"==t.charAt(--r););for(e.e=n-o-1,e.c=[],n=0;o<=r;)e.c[n++]=+t.charAt(o++)}}(o,n)}o.constructor=t}return t.prototype=d,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t}()).default=i.Big=i,void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o)}()},638:function(e,t,n){var o=n.g.CustomEvent;e.exports=function(){try{var e=new o("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?o:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}},705:function(e,t,n){var o=n(639).Symbol;e.exports=o},239:function(e,t,n){var o=n(705),r=n(607),i=n(333),s=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):i(e)}},561:function(e,t,n){var o=n(990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(r,""):e}},957:function(e,t,n){var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=o},607:function(e,t,n){var o=n(705),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,a=o?o.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var o=!0}catch(e){}var r=s.call(e);return o&&(t?e[a]=n:delete e[a]),r}},333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},639:function(e,t,n){var o=n(957),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();e.exports=i},990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},279:function(e,t,n){var o=n(218),r=n(771),i=n(841),s=Math.max,a=Math.min;e.exports=function(e,t,n){var c,l,u,d,f,h,p=0,v=!1,w=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=c,o=l;return c=l=void 0,p=t,d=e.apply(o,n)}function y(e){return p=e,f=setTimeout(S,t),v?m(e):d}function b(e){var n=e-h;return void 0===h||n>=t||n<0||w&&e-p>=u}function S(){var e=r();if(b(e))return x(e);f=setTimeout(S,function(e){var n=t-(e-h);return w?a(n,u-(e-p)):n}(e))}function x(e){return f=void 0,g&&c?m(e):(c=l=void 0,d)}function E(){var e=r(),n=b(e);if(c=arguments,l=this,h=e,n){if(void 0===f)return y(h);if(w)return clearTimeout(f),f=setTimeout(S,t),m(h)}return void 0===f&&(f=setTimeout(S,t)),d}return t=i(t)||0,o(n)&&(v=!!n.leading,u=(w="maxWait"in n)?s(i(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=l=f=void 0},E.flush=function(){return void 0===f?d:x(r())},E}},218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},448:function(e,t,n){var o=n(239),r=n(5);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==o(e)}},771:function(e,t,n){var o=n(639);e.exports=function(){return o.Date.now()}},493:function(e,t,n){var o=n(279),r=n(218);e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),o(e,t,{leading:i,maxWait:t,trailing:s})}},841:function(e,t,n){var o=n(561),r=n(218),i=n(448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=a.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?NaN:+e}},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var r=t&&t.prototype instanceof w?t:w,i=Object.create(r.prototype),s=new T(o||[]);return i._invoke=function(e,t,n){var o=d;return function(r,i){if(o===h)throw new Error("Generator is already running");if(o===p){if("throw"===r)throw i;return C()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=u(e,t,n);if("normal"===c.type){if(o=n.done?p:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=p,n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",v={};function w(){}function g(){}function m(){}var y={};y[i]=function(){return this};var b=Object.getPrototypeOf,S=b&&b(b(D([])));S&&S!==n&&o.call(S,i)&&(y=S);var x=m.prototype=w.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(r,i,s,a){var c=u(e[r],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var r;this._invoke=function(e,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}}function k(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=u(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:C}}function C(){return{value:t,done:!0}}return g.prototype=x.constructor=m,m.constructor=g,g.displayName=c(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,a,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(L.prototype),L.prototype[s]=function(){return this},e.AsyncIterator=L,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new L(l(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(x),c(x,a,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=D,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return a.type="throw",a.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:D(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},523:function(e){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,o=e.HTMLElement||e.Element,r={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:o.prototype.scroll||a,scrollIntoView:o.prototype.scrollIntoView},i=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,s=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?p.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):r.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?r.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;p.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=f(this),o=n.getBoundingClientRect(),i=this.getBoundingClientRect();n!==t.body?(p.call(this,n,n.scrollLeft+i.left-o.left,n.scrollTop+i.top-o.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function a(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(e,t){return"Y"===t?e.clientHeight+s<e.scrollHeight:"X"===t?e.clientWidth+s<e.scrollWidth:void 0}function u(t,n){var o=e.getComputedStyle(t,null)["overflow"+n];return"auto"===o||"scroll"===o}function d(e){var t=l(e,"Y")&&u(e,"Y"),n=l(e,"X")&&u(e,"X");return t||n}function f(e){for(;e!==t.body&&!1===d(e);)e=e.parentNode||e.host;return e}function h(t){var n,o,r,s,a=(i()-t.startTime)/468;s=a=a>1?1:a,n=.5*(1-Math.cos(Math.PI*s)),o=t.startX+(t.x-t.startX)*n,r=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,o,r),o===t.x&&r===t.y||e.requestAnimationFrame(h.bind(e,t))}function p(n,o,s){var c,l,u,d,f=i();n===t.body?(c=e,l=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,d=r.scroll):(c=n,l=n.scrollLeft,u=n.scrollTop,d=a),h({scrollable:c,method:d,startTime:f,startX:l,startY:u,x:o,y:s})}}}}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return e.offsetWidth>0&&e.offsetHeight>0}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=l(e.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])'));return t.filter((function(e){return!e.hasAttribute("disabled")&&u(e)}))}function f(e,t,n,o,r,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(o,r)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function s(e){f(i,o,r,s,a,"next",e)}function a(e){f(i,o,r,s,a,"throw",e)}s(void 0)}))}}n(638);var p=n(757),v=n.n(p),w=n(523),g=n.n(w);function m(e){return new Promise((function(t){return setTimeout(t,e)}))}n(302);var y=function(){function t(n,o,r){var i=this;e(this,t),this.showcases=n,this.showcaseDownOnWheelMove=o,this.isSafari=r,this.priorShowcase=0,this.newShowcase=0,this.lastDelta=0,this.lastScroll=new Date,this.observer=new IntersectionObserver((function(e){e.forEach((function(e){var n=e.target,o=Array.prototype.indexOf.call(i.showcases,n);e.intersectionRatio<.75?i.priorShowcase=o:document.body.classList.contains("animating-scroll")||(t.logDebugMessages("Running ScrollSnappingEventDispatcher scroll-step"),i.newShowcase=o,i.priorShowcase>i.newShowcase?i.showcases[i.newShowcase].dispatchEvent(new CustomEvent("scroll-step",{detail:{direction:-1},bubbles:!0,cancelable:!0})):i.priorShowcase<i.newShowcase&&i.showcases[i.newShowcase].dispatchEvent(new CustomEvent("scroll-step",{detail:{direction:1},bubbles:!0,cancelable:!0})))}))}),{rootMargin:"0px",threshold:.75})}return o(t,[{key:"disable",value:function(){var e=this;t.logDebugMessages("Running ScrollSnappingEventDispatcher disable"),Object.prototype.hasOwnProperty.call(document.body.dataset,"scrollSnapped")&&(document.body.toggleAttribute("data-scroll-snapped"),Array.from(this.showcases).forEach((function(t){e.observer.unobserve(t)})),document.dispatchEvent(new CustomEvent("scroll-snap",{detail:{enabled:!1}})))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.logDebugMessages("Running ScrollSnappingEventDispatcher enable"),Object.prototype.hasOwnProperty.call(document.body.dataset,"scrollSnapped")||(document.body.toggleAttribute("data-scroll-snapped"),this.scrollSnappingEventHandler(),this.showcases[e>=0?e:0].dispatchEvent(new CustomEvent("scroll-snap",{detail:{enabled:!0,showcaseIndex:e,isNewShowcase:n},bubbles:!0,cancelable:!0})))}},{key:"scrollSnappingEventHandler",value:function(){var e=this;t.logDebugMessages("Running ScrollSnappingEventDispatcher scrollSnappingEventHandler"),this.showcases.forEach((function(t){e.observer.unobserve(t),e.observer.observe(t)}))}},{key:"scrollWheelEvent",value:function(e){if(t.logDebugMessages("Running ScrollSnappingEventDispatcher scrollWheelEvent"),!t.isTouchPadEvent(e)&&!document.body.classList.contains("is-Chrome")){e.preventDefault();var n=new Date,o=n-this.lastScroll;this.lastScroll=n,Math.abs(e.deltaY)>15&&(e.deltaY<0&&e.deltaY<this.lastDelta||e.deltaY>0&&e.deltaY>this.lastDelta||e.deltaY===this.lastDelta&&o>50)&&(e.deltaY<0?this.showcaseDownOnWheelMove(-1):e.deltaY>0&&this.showcaseDownOnWheelMove(1))}}}],[{key:"isTouchPadEvent",value:function(e){return t.logDebugMessages("Running ScrollSnappingEventDispatcher isTouchPadEvent"),e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.deltaY%1==0:0===e.deltaMode}},{key:"logDebugMessages",value:function(e){}}]),t}(),b=function(){function t(n,o,r,i,s){e(this,t),this.showcases=n,this.showcaseStickyNavigationArrowClick=o,this.getActiveShowcaseAfterSnap=r,this.getActiveShowcaseAfterStep=i,this.updateComponentScrim=s,this.showStickyNavigationElement=!1}return o(t,[{key:"init",value:function(){var e=this;t.logDebugMessages("Running ShowcaseStickyNavigation init");var n=document.querySelector(".tcl-showcases").scrollTop,o=!1,r=function(e){t.logDebugMessages("Running ShowcaseStickyNavigation setStickyNavigationHeight"),e.style.setProperty("--animate-scrolltop-to-reveal-block-size","auto");var n=e.clientHeight;0!==n&&(e.style.setProperty("--animate-scrolltop-to-reveal-block-size","".concat(n,"px")),e.style.setProperty("--animate-scrolltop-to-reveal-transform","translate(0, -".concat(n,"px)")))},i=function(n){t.logDebugMessages("Running ShowcaseStickyNavigation setLogoAndtopArrowTheme");var o=e.showcases[n].dataset,r=o.logoTheme,i=o.topArrowTheme,s=document.querySelector(".tcl-sticky-navigation__nav--desktop .tcl-sticky-navigation__logo"),a=document.querySelector(".tcl-sticky-navigation__nav--desktop .tcl-sticky-navigation__top-arrow");e.updateComponentScrim(s,r),e.updateComponentScrim(a,i)},s=document.querySelectorAll(".tcl-sticky-navigation__nav");Array.from(s).forEach((function(t){t.classList.contains("tcl-sticky-navigation__nav--mobile")&&(r(t),window.onresize=function(){m(500).then((function(){r(t)}))});var n=t.querySelector(".tcl-sticky-navigation__top-arrow");n&&n.addEventListener("click",(function(){e.showcaseStickyNavigationArrowClick()}))})),document.addEventListener("scroll-snap",(function(n){if(t.logDebugMessages("Running ShowcaseStickyNavigation scroll-snap"),n.detail.enabled){var o=e.getActiveShowcaseAfterSnap();n.detail.showcaseIndex>=0&&(o=n.detail.showcaseIndex),i(o),0===o?document.body.classList.add("tcl-page--with-first-screen-in-viewport"):document.body.classList.remove("tcl-page--with-first-screen-in-viewport")}else document.body.classList.remove("tcl-page--with-first-screen-in-viewport")})),document.addEventListener("scroll-step",function(){var n=h(v().mark((function n(o){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.logDebugMessages("Running ShowcaseStickyNavigation scroll-step"),n.next=3,e.getActiveShowcaseAfterStep(o.detail.direction);case 3:r=n.sent,i(r),0===r?document.body.classList.add("tcl-page--with-first-screen-in-viewport"):document.body.classList.remove("tcl-page--with-first-screen-in-viewport");case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),document.addEventListener("step-to-top",(function(){t.logDebugMessages("Running ShowcaseStickyNavigation step-to-top"),i(0),document.body.classList.add("tcl-page--with-first-screen-in-viewport")})),document.addEventListener("step-navigation",(function(e){t.logDebugMessages("Running ShowcaseStickyNavigation step-navigation");var n=e.detail.showcaseIndex;i(n),0===n?document.body.classList.add("tcl-page--with-first-screen-in-viewport"):document.body.classList.remove("tcl-page--with-first-screen-in-viewport")})),window.addEventListener("scroll",(function(){var e=window.pageYOffset,t=e<n,r=document.querySelector(".animate_scrolltop--to_reveal");r&&(e<400?o&&(r.classList.toggle("animate_scrolltop--revealed"),o=!o):(!t&&!0===o||t&&!1===o)&&(r.classList.toggle("animate_scrolltop--revealed"),o=!o)),n=e}))}}],[{key:"logDebugMessages",value:function(e){}}]),t}(),S=function(){function t(n,o,r,i,s){e(this,t),this.showcases=n,this.showcaseNavigationItemClick=o,this.getActiveShowcaseAfterSnap=r,this.getActiveShowcaseAfterStep=i,this.updateComponentScrim=s}return o(t,[{key:"init",value:function(){var e=this;t.logDebugMessages("Running ShowcaseNavigation init");var n=document.querySelector(".tcl-showcase-navigation"),o=window.TSLA_ANALYTICS,r=function(t){var o=e.showcases[t].dataset.navigationTheme;e.updateComponentScrim(n,o)},i=function(t){document.querySelector(".tcl-showcase-navigation__item--selected").classList.remove("tcl-showcase-navigation__item--selected"),t.target.classList.add("tcl-showcase-navigation__item--selected");var n=Array.prototype.indexOf.call(t.target.parentElement.children,t.target);r(n),e.showcaseNavigationItemClick(n)},s=function(){var t=document.querySelector(".tcl-drawer--open").closest(".tcl-showcase"),n=Array.prototype.indexOf.call(e.showcases,t);document.dispatchEvent(new CustomEvent("drawer-close",{detail:{showcaseIndex:n,enableNext:!1,enableCloseAnimation:!0}}))};if(n){this.showcases.forEach((function(e,s){var a=e.dataset.title,c=e.id,l=document.createElement("li");l.dataset.gtmEvent="navigation",l.dataset.gtmLocation="left nav",l.dataset.tabindex=s,l.dataset.showcaseIdentifier=c,l.classList.add("tcl-showcase-navigation__item"),0===s&&(l.classList.add("tcl-showcase-navigation__item--selected"),r(0)),l.addEventListener("click",i,!0);var u=document.createElement("span");u.classList.add("tcl-showcase-navigation__indicator");var d=document.createElement("span");d.classList.add("tcl-showcase-navigation__label"),d.dataset.buttonText=a,d.innerHTML=a,l.append(u),l.append(d),n.append(l),o.registerTags(n),window.addEventListener("resize",(function(){t.logDebugMessages("Running ShowcaseNavigation resize"),m(500).then((function(){n.style.setProperty("--tcl-showcase-navigation-top","calc(50% - ".concat(n.offsetHeight/2,"px)"))}))}))}));var a=function(e){var t=document.querySelector('li.tcl-showcase-navigation__item[data-showcase-identifier="'.concat(e,'"]'));t&&(t.click(),window.history.pushState?window.location.search?window.history.pushState("","/",window.location.pathname+window.location.search):window.history.pushState("","/",window.location.pathname):window.location.hash="")};document.addEventListener("scroll-snap",(function(o){t.logDebugMessages("Running ShowcaseNavigation scroll-snap");var i=document.querySelector(".tcl-showcase-navigation__item--selected");if(o.detail.enabled){var s=e.getActiveShowcaseAfterSnap();o.detail.showcaseIndex>=0&&(s=o.detail.showcaseIndex),void 0!==n.children[s]&&(i.classList.remove("tcl-showcase-navigation__item--selected"),n.children[s].classList.add("tcl-showcase-navigation__item--selected"),r(s))}})),document.addEventListener("scroll-step",function(){var o=h(v().mark((function o(i){var s,a;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t.logDebugMessages("Running ShowcaseNavigation scroll-step"),!(s=document.querySelector(".tcl-showcase-navigation__item--selected"))){o.next=8;break}return s.classList.remove("tcl-showcase-navigation__item--selected"),o.next=6,e.getActiveShowcaseAfterStep(i.detail.direction);case 6:a=o.sent,void 0!==n.children[a]&&(n.children[a].classList.add("tcl-showcase-navigation__item--selected"),r(a));case 8:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()),document.addEventListener("step-to-top",(function(){t.logDebugMessages("Running ShowcaseNavigation step-to-top");var e=document.querySelector(".tcl-showcase-navigation__item--selected");e&&(e.classList.remove("tcl-showcase-navigation__item--selected"),n.children[0].classList.add("tcl-showcase-navigation__item--selected"),r(0))})),document.addEventListener("drawer-open",(function(){t.logDebugMessages("Running ShowcaseNavigation drawer-open"),n.classList.add("tcl-showcase-navigation--open-drawer");var e=document.querySelectorAll(".tcl-showcase-navigation__item");Array.from(e).forEach((function(e){e.removeEventListener("click",i,!0),e.addEventListener("click",s,!0)}))})),document.addEventListener("drawer-close",(function(){t.logDebugMessages("Running ShowcaseNavigation drawer-close"),n.classList.remove("tcl-showcase-navigation--open-drawer");var e=document.querySelectorAll(".tcl-showcase-navigation__item");Array.from(e).forEach((function(e){e.removeEventListener("click",s,!0),e.addEventListener("click",i,!0)}))})),window.addEventListener("popstate",(function(){if(window.location.href.indexOf("#")>0){var e=window.location.hash.substring(1);a(e)}})),m(500).then((function(){if(window.location.hash){var e=window.location.hash.substring(1);a(e)}}))}}}],[{key:"logDebugMessages",value:function(e){}}]),t}(),x=function(){function t(n,o,r,i){e(this,t),this.showcases=n,this.showcasesWrapper=o,this.tabletLandscapeDown=r,this.getActiveShowcaseAfterStep=i}return o(t,[{key:"init",value:function(){var e=this;t.logDebugMessages("Running ShowcaseAnimation init"),document.addEventListener("scroll-snap",(function(n){if(t.logDebugMessages("Running ShowcaseAnimation scroll-snap"),n.detail.enabled&&n.detail.showcaseIndex>=0&&n.detail.isNewShowcase){var o=n.detail.showcaseIndex;window.animation.removeClassOnScrollStep(e.showcases[o]),m(500).then((function(){window.animation.addClassOnScrollStep(e.showcases[o])}))}}));var n=function(){window.animation.toggleAnimationClassOnScroll()};document.addEventListener("scroll-step",function(){var n=h(v().mark((function n(o){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.logDebugMessages("Running ShowcaseAnimation scroll-step"),n.next=3,e.getActiveShowcaseAfterStep(o.detail.direction);case 3:r=n.sent,window.animation.removeClassOnScrollStep(e.showcases[r-o.detail.direction]),window.animation.addClassOnScrollStep(e.showcases[r]);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),document.addEventListener("step-to-top",(function(){t.logDebugMessages("Running ShowcaseAnimation step-to-top"),window.animation.removeClassOnScrollStep(),m(500).then((function(){window.animation.addClassOnScrollStep(e.showcases[0])}))})),document.addEventListener("step-navigation",(function(n){t.logDebugMessages("Running ShowcaseAnimation step-navigation"),window.animation.removeClassOnScrollStep();var o=n.detail.showcaseIndex;m(500).then((function(){window.animation.addClassOnScrollStep(e.showcases[o])}))})),document.addEventListener("drawer-opened",(function(o){t.logDebugMessages("Running ShowcaseAnimation drawer-open");var r=e.tabletLandscapeDown?e.showcasesWrapper:o.target.closest(".tcl-showcase");e.showcasesWrapper.removeEventListener("scroll",n,!1),m(200).then((function(){o.target.style.setProperty("--tcl-showcase-drawer-min-block-size","auto"),r.addEventListener("scroll",n,!1),window.animation.toggleAnimationWithinElement(r)}))})),document.addEventListener("drawer-close",(function(o){t.logDebugMessages("Running ShowcaseAnimation drawer-close");var r=e.tabletLandscapeDown?e.showcasesWrapper:o.target.closest(".tcl-showcase");m(500).then((function(){o.target.style.removeProperty("--tcl-showcase-drawer-min-block-size"),r.removeEventListener("scroll",n,!1)}))})),this.tabletLandscapeDown.addListener((function(e){e.matches?(window.removeEventListener("scroll",n,!1),window.addEventListener("scroll",n,!1)):window.removeEventListener("scroll",n,!1)})),this.tabletLandscapeDown.matches?(window.animation.toggleAnimationWithinElement(this.showcases[0]),window.removeEventListener("scroll",n,!1),window.addEventListener("scroll",n,!1)):window.removeEventListener("scroll",n,!1)}}],[{key:"logDebugMessages",value:function(e){}}]),t}(),E=function(){function t(n,o,r,i,s,a,c,l){e(this,t),this.showcases=n,this.drawerOpenButtonClick=o,this.drawerCloseButtonClick=r,this.shouldCloseButtonBeChangedToNextButton=i,c.matches?this.closeButtonBeChangedToNextButton=!1:this.closeButtonBeChangedToNextButton=this.shouldCloseButtonBeChangedToNextButton(),this.drawerOpenEventListener=s,this.drawerCloseEventListener=a,this.tabletLandscapeDown=c,this.updateComponentScrim=l,this.isScrolling=!1,this.scrollToTimeout=-1}return o(t,[{key:"init",value:function(){var e=this;t.logDebugMessages("Running ShowcaseDrawer init");var n=document.querySelector(".tcl-drawer-trigger__button"),o=function(t){var o=e.showcases[t].dataset,r=o.drawerTriggerTheme,i=o.drawerNavigationTheme,s=document.querySelector(".tcl-drawer-navigation__nav");e.updateComponentScrim(n.parentNode,r),e.updateComponentScrim(s,i)},r=document.querySelectorAll(".tcl-showcase__drawer-open-button");Array.from(r).forEach((function(t){var n=t.closest(".tcl-showcase");t.addEventListener("click",(function(){e.drawerOpenButtonClick(n)}))})),null!==n&&n.addEventListener("click",(function(){e.drawerCloseButtonClick()})),document.addEventListener("drawer-open",function(){var n=h(v().mark((function n(r){var i,s,a;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.logDebugMessages("Running ShowcaseDrawer drawer-open"),e.closeButtonBeChangedToNextButton=e.shouldCloseButtonBeChangedToNextButton(),i=r.detail.showcaseIndex,s=e.showcases[i],a=s.querySelector(".tcl-drawer"),o(i),n.next=8,e.drawerOpenEventListener(s,a);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),document.addEventListener("drawer-close",function(){var n=h(v().mark((function n(o){var r,i,s,a,c,l;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.logDebugMessages("Running ShowcaseDrawer drawer-close"),r=o.detail,i=r.showcaseIndex,s=r.enableNext,a=r.enableCloseAnimation,c=e.showcases[i],l=c.querySelector(".tcl-drawer"),n.next=6,e.drawerCloseEventListener(c,l,s,a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),Array.from(this.showcases).forEach((function(t){t.addEventListener("scroll",(function(){if(document.documentElement.hasAttribute("data-drawer-open")&&!e.tabletLandscapeDown.matches){var n=document.querySelector(".tcl-drawer--open");t.scrollTop>=n.offsetTop?document.body.setAttribute("data-drawer-in-view",""):document.body.removeAttribute("data-drawer-in-view")}}),!1)})),this.tabletLandscapeDown.addListener((function(o){o.matches?(e.closeButtonBeChangedToNextButton&&t.switchNextButtonToCloseButton(n),e.closeButtonBeChangedToNextButton=!1):e.closeButtonBeChangedToNextButton=e.shouldCloseButtonBeChangedToNextButton()}))}},{key:"onScrollTo",value:function(e){t.logDebugMessages("Running ShowcaseDrawer onScrollTo"),this.scrollToTimeout=-1,this.isScrolling=!1,e.parentNode.style.setProperty("--tcl-drawer-trigger-opacity","1")}},{key:"setDrawerTriggerButtonOpacity",value:function(e){var n=this;t.logDebugMessages("Running ShowcaseDrawer setDrawerTriggerButtonOpacity"),this.isScrolling||(this.isScrolling=!0,e.parentNode.style.setProperty("--tcl-drawer-trigger-opacity","0.2")),this.scrollToTimeout>0&&clearTimeout(this.scrollToTimeout),this.scrollToTimeout=setTimeout((function(){n.onScrollTo(e)}),200)}},{key:"updateDrawerCloseButtonPosition",value:function(){var e=this.tabletLandscapeDown?t.determineOnScreenDrawer():document.querySelector(".tcl-drawer--open"),n=document.querySelector(".tcl-drawer-trigger__button"),o="tcl-drawer-trigger__is-positioned-absolutely";if(null!==e&&null!==n){var r=e.closest(".tcl-showcase"),i=e.getBoundingClientRect(),s=i.top+64+32;this.tabletLandscapeDown.matches&&Math.floor(i.bottom)<=window.innerHeight?(n.parentNode.style.setProperty("--tcl-drawer-trigger-top","".concat(i.bottom+window.pageYOffset-32-32,"px")),n.parentNode.classList.add(o),this.closeButtonBeChangedToNextButton&&t.switchCloseButtonToNextButton(n)):!this.tabletLandscapeDown.matches&&r.scrollTop+window.innerHeight>=r.scrollHeight?this.closeButtonBeChangedToNextButton&&(t.switchCloseButtonToNextButton(n),t.flashLabel(n)):(s<window.innerHeight?(n.parentNode.style.setProperty("--tcl-drawer-trigger-top","auto"),n.parentNode.classList.remove(o),n.parentNode.style.setProperty("--tcl-drawer-trigger-bottom","".concat(32,"px"))):s>=window.innerHeight&&(n.parentNode.style.setProperty("--tcl-drawer-trigger-top","".concat(i.top+window.pageYOffset+32,"px")),n.parentNode.classList.add(o),t.flashLabel(n)),this.closeButtonBeChangedToNextButton&&t.switchNextButtonToCloseButton(n)),this.tabletLandscapeDown.matches&&this.setDrawerTriggerButtonOpacity(n)}}}],[{key:"flashLabel",value:function(e){t.logDebugMessages("Running ShowcaseDrawer flashLabel"),e.classList.contains("tcl-drawer-trigger__button-with-label")||(e.classList.add("tcl-drawer-trigger__button-with-label"),setTimeout((function(){t.hideLabel(e)}),2e3))}},{key:"hideLabel",value:function(e){t.logDebugMessages("Running ShowcaseDrawer hideLabel"),e.classList.contains("tcl-drawer-trigger__button-with-label")&&e.classList.remove("tcl-drawer-trigger__button-with-label")}},{key:"logDebugMessages",value:function(e){}},{key:"switchCloseButtonToNextButton",value:function(e){t.logDebugMessages("Running ShowcaseDrawer switchCloseButtonToNextButton"),e.classList.contains("tcl-drawer-trigger__button-use-next")||e.classList.add("tcl-drawer-trigger__button-use-next")}},{key:"switchNextButtonToCloseButton",value:function(e){t.logDebugMessages("Running ShowcaseDrawer switchNextButtonToCloseButton"),e.classList.contains("tcl-drawer-trigger__button-use-next")&&e.classList.remove("tcl-drawer-trigger__button-use-next")}},{key:"determineOnScreenDrawer",value:function(){var e=document.querySelectorAll(".tcl-drawer--open"),t=Array.from(e).filter((function(e){return t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight),!(t.bottom<0||t.top-n>=0);var t,n}));return void 0!==t[0]?t[0]:null}}]),t}(),L=function(){function t(n,o){e(this,t),this.showcases=n,this.getActiveShowcaseAfterStep=o,this.tdsFooter=document.querySelector(".tds-footer"),this.tdsFooterHeight=0}return o(t,[{key:"toggleFixedClass",value:function(e){e===this.showcases.length-1?(this.tdsFooter.classList.add("tds-footer--fixed"),this.showcases[e].style.setProperty("--tcl-showcase-footer-height","".concat(this.tdsFooterHeight,"px"))):this.tdsFooter.classList.remove("tds-footer--fixed")}},{key:"init",value:function(){var e=this;this.initFooterMutationObserver(),document.addEventListener("scroll-snap",(function(n){t.logDebugMessages("Running ShowcaseFooter scroll-snap");var o=n.detail.showcaseIndex;e.toggleFixedClass(o)})),document.addEventListener("step-to-top",(function(){t.logDebugMessages("Running ShowcaseFooter step-to-top"),e.toggleFixedClass(0)})),document.addEventListener("scroll-step",function(){var n=h(v().mark((function n(o){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.logDebugMessages("Running ShowcaseFooter scroll-step"),n.next=3,e.getActiveShowcaseAfterStep(o.detail.direction);case 3:r=n.sent,e.toggleFixedClass(r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),document.addEventListener("step-navigation",(function(n){t.logDebugMessages("Running ShowcaseFooter step-navigation");var o=n.detail.showcaseIndex;e.toggleFixedClass(o)}))}},{key:"initFooterMutationObserver",value:function(){var e=this;new MutationObserver((function(t){t.forEach((function(t){"childList"===t.type&&0===e.tdsFooterHeight&&(e.tdsFooterHeight=e.tdsFooter.offsetHeight)}))})).observe(this.tdsFooter,{childList:!0})}}],[{key:"logDebugMessages",value:function(e){}}]),t}(),k=n(493),_=n.n(k),A=function(){function t(n){e(this,t),this.ticking=!1,this.supportsPassive=t.setPassiveFeatureDetection(),this.heroWithBannerAssets=document.querySelectorAll(".hero--with-banner picture.tcl-image__picture, .hero--with-banner video.tcl-video__asset"),this.tabletLandscapeDown=n}return o(t,[{key:"addCSSCustomPropertiesOnScroll",value:function(){var e=this;this.ticking||(window.requestAnimationFrame((function(){Array.from(e.heroWithBannerAssets).forEach((function(t){var n=t.closest(".hero"),o=e.calculateHeroWithBannerTop(n);if(Math.abs(o)<=t.clientHeight){var r=e.calculateHeroWithBannerAssetPercentageBeyondTop(t,o),i=1-r,s=.2*i+1,a=.1*i+.9,c=100*r,l=85*r;0===i&&(s=1.2,a=1,c=0,l=0),n.style.setProperty("--hero-asset-scale",s.toPrecision(4)),n.style.setProperty("--hero-asset-translate","".concat(c.toPrecision(4),"px")),n.style.setProperty("--hero-regions-scale",a.toPrecision(4)),n.style.setProperty("--hero-regions-translate","".concat(l.toPrecision(4),"px"))}})),e.ticking=!1})),this.ticking=!0)}},{key:"calculateHeroWithBannerTop",value:function(e){return e.getBoundingClientRect().top}},{key:"calculateHeroWithBannerAssetPercentageBeyondTop",value:function(e,t){var n=1;return t<0&&Math.abs(t)<=e.clientHeight&&(n=Math.abs(t/e.clientHeight)),n}},{key:"enableParallaxListener",value:function(){this.tabletLandscapeDown.matches&&window.addEventListener("scroll",_()(this.addCSSCustomPropertiesOnScroll.bind(this),10),!!this.supportsPassive&&{passive:!0})}}],[{key:"setPassiveFeatureDetection",value:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}}]),t}();g().polyfill();var T,D=!1,C=function(){},O=function(e,t,n){D=e,T=t,C=n};O.prototype.init=function(){var e=window.TSLA_ANALYTICS,t=document.querySelector(".tcl-showcases"),n=Array.from(document.querySelectorAll(".tcl-showcase")),o=function(){var e=t.scrollTop;return T.matches&&(e=window.pageYOffset),e},r=function(e){var t=e.offsetTop;return T.matches&&(t=e.getBoundingClientRect().top+window.pageYOffset),t};O.prototype.disableScrollRestoration();var i=function(){var e=[];return n.forEach((function(t){e.push(t.offsetTop)})),e},s=function(e){for(var t=0,n=o(),r=0;r<e.length;r++)if(n<=e[r]){t=r;break}return t},a=function(e){return new Promise((function(n){var r,i=0;window.requestAnimationFrame((function t(){o()!==e?(i+=1)>50?n():window.requestAnimationFrame(t):n()})),(r=t,T.matches&&(r=window),r).scrollTo({top:e,behavior:"smooth"})}))},c=new y(n,function(){var e=h(v().mark((function e(t){var n,o,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0,o=i(),r=s(o),n=t>0?o[r+1]:o[r-1],e.next=7,a(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D),l=function(){var e=i();return s(e)},u=function(){var e=h(v().mark((function e(t){var n,o,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,o=i(),r=s(o),t>0&&r!==o.length&&(n=r),t<0&&0!==r&&(n=r-1),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e,t){if(e){var n=e.classList;Array.from(n).forEach((function(t){(t.startsWith("tds-scrim--")||t.startsWith("tds-colorscheme--"))&&e.classList.remove(t)})),"light"===t?(e.classList.add("tds-scrim--black"),e.classList.add("tds-colorscheme--dark")):(e.classList.add("tds-scrim--white"),e.classList.add("tds-colorscheme--light"))}};new b(n,function(){var e=h(v().mark((function e(){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.body.classList.add("animating-scroll"),document.dispatchEvent(new CustomEvent("step-to-top")),t=i(),n=t[0],e.next=7,a(n);case 7:document.body.classList.remove("animating-scroll");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l,u,d).init(),new S(n,function(){var e=h(v().mark((function e(t){var n,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.body.classList.add("animating-scroll"),document.dispatchEvent(new CustomEvent("step-navigation",{detail:{showcaseIndex:t}})),n=i(),o=n[t],e.next=7,a(o);case 7:document.body.classList.remove("animating-scroll");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l,u,d).init(),new A(T).enableParallaxListener(),T.matches?c.disable():(c.enable(),window.animation.addClassOnScrollStep(n[0])),new x(n,t,T,u).init(),new L(n,u).init();var f=function(){var e=h(v().mark((function e(t){var o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.prototype.indexOf.call(n,t),t.dispatchEvent(new CustomEvent("drawer-open",{detail:{showcaseIndex:o},bubbles:!0,cancelable:!0}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=h(v().mark((function e(){var t,o,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=T?E.determineOnScreenDrawer():document.querySelector(".tcl-drawer--open"))&&(o=t.closest(".tcl-showcase"),r=Array.prototype.indexOf.call(n,o),o.dispatchEvent(new CustomEvent("drawer-close",{detail:{showcaseIndex:r,enableNext:!0},bubbles:!0,cancelable:!0,enableCloseAnimation:!0})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=h(v().mark((function e(o,r){var i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.documentElement.setAttribute("data-drawer-open",""),C(o).forEach((function(e){r.contains(e)||e.setAttribute("tabindex",-1)})),i=o.querySelectorAll(".tcl-showcase__drawer-open-button"),r.classList.add("tcl-drawer--open"),i&&Array.from(i).forEach((function(e){e.disabled=!0})),Array.from(n).forEach((function(e){if(e===o){if(e.classList.add("tcl-showcase--with-open-drawer"),!T.matches){var t=e.getBoundingClientRect().height;e.scrollTop=t}}else e.classList.add("tcl-showcase--hidden")})),m(100).then(h(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T.matches?window.scrollTo({top:window.pageYOffset+r.getBoundingClientRect().top,behavior:"smooth"}):(c.disable(),t.classList.add("tcl-showcases--has-open-drawer")),n=new CustomEvent("drawer-opened",{bubbles:!0,cancelable:!0}),r.dispatchEvent(n);case 3:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=h(v().mark((function e(o,i){var s,l,u,d,f,h,p,w=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=w.length>2&&void 0!==w[2]&&w[2],l=!(w.length>3&&void 0!==w[3])||w[3],u="tcl-drawer-trigger__is-positioned-absolutely",(d=document.querySelector(".tcl-drawer-trigger")).style.setProperty("--tcl-drawer-trigger-top","auto"),d.classList.remove(u),d.style.setProperty("--tcl-drawer-trigger-bottom","32px"),document.querySelectorAll(".tcl-drawer--open").length<2?document.documentElement.removeAttribute("data-drawer-open",""):d.classList.add(u),document.body.removeAttribute("data-drawer-in-view"),f=Array.prototype.indexOf.call(n,o),h=!1,C(o).forEach((function(e){e.removeAttribute("tabindex")})),(p=o.querySelectorAll(".tcl-showcase__drawer-open-button"))&&Array.from(p).forEach((function(e){e.disabled=!1})),d.querySelector(".tcl-drawer-trigger__button-use-next")&&s&&(f+=1,h=!0),i.classList.remove("tcl-drawer--open"),T.matches||(n[f].classList.remove("tcl-showcase--hidden"),t.classList.remove("tcl-showcases--has-open-drawer"),c.enable(f,h)),Array.from(n).forEach((function(e){e===o?e.classList.remove("tcl-showcase--with-open-drawer"):e.classList.remove("tcl-showcase--hidden")})),!l){e.next=24;break}return e.next=24,a(r(n[f]));case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=new E(n,f,p,(function(){var e=!1,t=document.querySelector(".tcl-drawer-trigger"),o=i(),r=s(o);return null===t||r+1===n.length||T.matches||(e=!0),e}),w,g,T,d);k.init(),window.addEventListener("resize",(function(){m(500).then((function(){if(t=!1,document.querySelector(".tcl-drawer--open")&&(t=!0),!t)if(T.matches)c.disable();else{var e=l();c.enable(e)}var t}))})),document.addEventListener("scroll-snap",function(){var e=h(v().mark((function e(n){var o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.detail.enabled&&n.detail.showcaseIndex>=0)){e.next=13;break}return document.body.classList.add("animating-scroll"),e.next=5,m(100);case 5:if(o=n.target.offsetTop,!D){e.next=10;break}t.scrollTop=o,e.next=12;break;case 10:return e.next=12,a(o);case 12:document.body.classList.remove("animating-scroll");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.addEventListener("scroll-step",function(){var e=h(v().mark((function e(t){var o,r,a,c;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,s(i());case 3:o=e.sent,(r=n[o])&&(a=C(r),c=-1===t.detail.direction?a[a.length-1]:a[0],void 0!==t.detail.tabNavigation&&(c.focus(),window.animation.toggleAnimationClassOnScroll()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.addEventListener("keydown",function(){var e=h(v().mark((function e(t){var n,o,r,c,l,u,d,f,h,p,w,g;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.key,T.matches){e.next=32;break}if("PageDown"!==n&&"PageUp"!==n){e.next=16;break}if(o=i(),r=s(o),"PageDown"!==n){e.next=12;break}return c=o[r+1],e.next=10,a(c);case 10:e.next=16;break;case 12:if("PageUp"!==n){e.next=16;break}return l=o[r-1],e.next=16,a(l);case 16:if(!("Tab"===n||t.shiftKey&&"Tab"===n)){e.next=32;break}if(!(u=document.activeElement.closest(".tcl-showcase"))){e.next=32;break}if(d=C(u),!u||u.classList.contains("tcl-showcase--with-open-drawer")){e.next=32;break}if(f=!1,h=1,t.shiftKey||"Tab"!==n||t.target!==d[d.length-1]?t.shiftKey&&"Tab"===n&&t.target===d[0]&&(f=!0,h=-1):f=!0,!f){e.next=32;break}return t.preventDefault(),p=i(),w=s(p),g=p[w+h],e.next=31,a(g);case 31:u.dispatchEvent(new CustomEvent("scroll-step",{detail:{direction:h,tabNavigation:1},bubbles:!0,cancelable:!0}));case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Array.from(n).forEach((function(e){e.addEventListener("scroll",(function(){k.updateDrawerCloseButtonPosition(),window.animation.toggleAnimationClassOnScroll()}),!1)})),t.addEventListener("scroll",(function(){k.updateDrawerCloseButtonPosition()}),!1),window.addEventListener("scroll",(function(){k.updateDrawerCloseButtonPosition(),e.mobileScrollEventHandler()}),!1)},O.prototype.disableScrollRestoration=function(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")};var B=O;var N=window.D8,P=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(l,t);var n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(n);if(i){var o=a(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return s(this,e)});function l(){return e(this,l),c.apply(this,arguments)}return o(l,[{key:"init",value:function(){var e=window.matchMedia("(max-width: 899px)"),t=!1;document.body.classList.contains("is-Safari")&&(t=!0),e.matches&&(t=!1),new B(t,e,d).init(),l.enableEventListeners()}}],[{key:"enableEventListeners",value:function(){document.addEventListener("drawer-opened",l.handleDrawerOpened)}},{key:"handleDrawerOpened",value:function(e){var t=e.target.querySelectorAll(".tcl-carousel");Array.from(t).forEach((function(e){if(!e.classList.contains("tcl-carousel--drawer-init")){var t=e.querySelector(".tds-tab");e.carousel.carousel.activeTab=t,e.carousel.carousel.setTab(),e.classList.add("tcl-carousel--drawer-init")}}))}}]),l}(N.Component);N.registerComponent(".tcl-page--with-scroll-snapping","scrollSnapping",P)}()}();;
